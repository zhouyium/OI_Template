# AC 自动机 Aho-Corasick automaton

AC 自动机是 以 Trie 的结构为基础，结合 KMP 的思想 建立的自动机，用于解决多模式匹配等任务。

AC 自动机本质上是 Trie 上的自动机。在 Trie 上构造**回跳边**和**转移边**。

**回跳边**：指向父节点的回跳边所指节点的儿子。**回跳边**所指节点一定是当前节点的**最长后缀**。

**转移边**：指向当前节点的回跳边所指节点的儿子。**转移边**所指向节点一定是当前节点的**最短路**。

是**多模式匹配**算法。给点 n 个模式串和一个主串，查找有多少个模式串在主串中出现过。

## 步骤

1. 构造 Trie 树。

2. 构造 AC 自动机。

3. 扫描主串匹配。

## Example

### 基础例子

[洛谷P3808](https://www.luogu.com.cn/record/177456707)

基础 AC 自动机

[洛谷P3796](https://www.luogu.com.cn/record/177466446)

AC 自动机，返回值是匹配到哪个模式串。

[ABC362_g]()
